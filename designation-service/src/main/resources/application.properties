spring.application.name=designation-service
server.port=8082

# ===================================================================
# CONFIGURACAO DO BANCO DE DADOS H2 (EM MEMORIA)
# ===================================================================
# URL de conexao para o banco de dados H2 em memoria. 'deliverydb' eh o nome do banco.
spring.datasource.url=jdbc:h2:mem:designationdb
# Usuario do banco de dados H2. 'sa' eh o padrao.
spring.datasource.username=sa
# Senha do banco de dados H2. Por padrao eh vazia.
spring.datasource.password=
# Driver do banco de dados H2.
spring.datasource.driverClassName=org.h2.Driver

# ===================================================================
# CONFIGURACAO DO H2 CONSOLE
# ===================================================================
# Habilita o console web do H2, uma ferramenta util para visualizar o banco de dados.
spring.h2.console.enabled=true
# Define o caminho para acessar o console web. Ex: http://localhost:8080/h2-console
spring.h2.console.path=/h2-console

# ===================================================================
# CONFIGURACAO DO JPA (HIBERNATE )
# ===================================================================
# Dialeto do Hibernate para o banco H2. Isso permite que o Hibernate gere o SQL correto.
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
# Acao a ser tomada no schema do banco ao iniciar. 'create-drop' cria as tabelas na inicializacao
# e as remove ao desligar a aplicacao. Otimo para desenvolvimento.
# Outras opcoes: 'update', 'validate', 'none'.
spring.jpa.hibernate.ddl-auto=create-drop
# Mostra no console o SQL gerado pelo Hibernate. Muito util para depuracao.
spring.jpa.show-sql=false
# Formata o SQL exibido no console para ser mais legivel.
spring.jpa.properties.hibernate.format_sql=true

# ===================================================================
# CONFIGURACAO DO SPRINGDOC (SWAGGER UI)
# ===================================================================
# Define o caminho para acessar a documentacao da API.
# Ex: http://localhost:8080/swagger-ui.html
springdoc.swagger-ui.path=/swagger-ui.html
# Define o caminho do arquivo de especificacao OpenAPI 3.
springdoc.api-docs.path=/v3/api-docs
# Desativa o endpoint padrao do Swagger para evitar duplicidade.
springdoc.swagger-ui.disable-swagger-default-url=true
# ===================================================================
# CONFIGURACAO DE INICIALIZACAO DO JPA
# ===================================================================
# Garante que o script data.sql seja executado APOS a criacao das tabelas pelo Hibernate (ddl-auto).
spring.jpa.defer-datasource-initialization=true

# ===================================================================
# BATCH INSERT CONFIGURATION
# ===================================================================
# Ativa o batching de escritas no JDBC.
spring.jpa.properties.hibernate.jdbc.batch_size=100

# Ordena os inserts para otimizar o batching.
spring.jpa.properties.hibernate.order_inserts=true

# ===================================================================
# RABBITMQ LISTENER CONCURRENCY CONFIGURATION
# ===================================================================
# Numero inicial de consumidores (workers) a serem criados na inicializacao.
#spring.rabbitmq.listener.simple.concurrency=4

# Numero maximo de consumidores que o container pode escalar.
#spring.rabbitmq.listener.simple.max-concurrency=8

# (Opcional) Numero de mensagens que um worker pega de uma vez antes de confirmar (ACK).
# Aumentar isso pode melhorar a performance, mas aumenta o risco de reprocessamento em caso de falha.
# O padrao eh 1. Para comecar, mantenha o padrao.
# spring.rabbitmq.listener.simple.prefetch=10

# Tamanho maximo do pool de conexoes com o banco. Padrao eh 10.
spring.datasource.hikari.maximum-pool-size=10
